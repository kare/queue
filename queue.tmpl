// Code generated by "gends"; DO NOT EDIT.

package queue // import "kkn.fi/queue"

// {{.TypeName}} is a FIFO queue data structure.
type {{.TypeName}} []{{.Type}}

// New{{.ShortTypeName}} creates an empty {{.Type}} queue.
func New{{.ShortTypeName}}() *{{.TypeName}} {
	return &{{.TypeName}}{}
}

// Enqueue adds a value to queue.
func (q *{{.TypeName}}) Enqueue(value {{.Type}}) {
	(*q) = append([]{{.Type}}{value}, (*q)...)
}

// Dequeue removes the least recently added value.
// If called on an empty queue, will return zero value and ErrEmptyQueue.
func (q *{{.TypeName}}) Dequeue() ({{.Type}}, error) {
	if len(*q) == 0 {
		return {{.TypeZeroValue}}, ErrEmptyQueue
	}
	length := len(*q) - 1
	value := (*q)[length]
	(*q) = (*q)[:length]
	return value, nil
}

// Peek returns the least recently added value.
// If called on an empty queue, will return zero value and ErrEmptyQueue.
func (q *{{.TypeName}}) Peek() ({{.Type}}, error) {
	if len(*q) == 0 {
		return {{.TypeZeroValue}}, ErrEmptyQueue
	}
	return (*q)[len(*q)-1], nil
}

// Len returns number of values in the queue.
func (q *{{.TypeName}}) Len() int {
	return len(*q)
}

// IsEmpty returns true if the queue is empty.
func (q *{{.TypeName}}) IsEmpty() bool {
	return len(*q) == 0
}
